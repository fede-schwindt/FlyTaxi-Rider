{"version":3,"file":"src_app_home_home_module_ts.js","mappings":"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","sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.ts","./src/app/services/geocode.service.ts","./src/app/services/map.service.ts","./node_modules/@capacitor/geolocation/dist/esm/definitions.js","./node_modules/@capacitor/geolocation/dist/esm/index.js","./node_modules/@capacitor/google-maps/dist/esm/definitions.js","./node_modules/@capacitor/google-maps/dist/esm/implementation.js","./node_modules/@capacitor/google-maps/dist/esm/index.js","./node_modules/@capacitor/google-maps/dist/esm/map.js","./node_modules/rxjs/_esm2015/internal/observable/interval.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    \n    IonicModule,\n    HomePageRoutingModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component, ElementRef, NgZone, OnInit, ViewChild } from '@angular/core';\nimport { Geolocation, Position } from '@capacitor/geolocation';\nimport { ModalOptions, ModalController, Platform, NavController } from '@ionic/angular';\nimport { AutocompleteComponent } from '../autocomplete/autocomplete.component';\nimport { OverlayService } from '../services/overlay.service';\nimport { GeocodeService } from '../services/geocode.service';\nimport { MapService } from '../services/map.service';\n// import { Marker } from '@capacitor/google-maps';\nimport { AvatarService } from '../services/avatar.service';\nimport { Drivers } from '../interfaces/drivers';\n\nimport { Observable, timer, interval } from 'rxjs';\nimport { Firestore, onSnapshot, doc } from '@angular/fire/firestore';\nimport { Marker } from '@capacitor/google-maps';\nimport { Auth } from '@angular/fire/auth';\nimport { AuthService } from '../services/auth.service';\n\ndeclare var google;\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  \n  profile = null;\n  @ViewChild('map') mapRef: ElementRef<HTMLElement>;\n  mappy; \n  @ViewChild('mapElement') mapElement:  ElementRef<HTMLElement>;\n  coordinates: Position;\n  address: any = 'Unknown';\n  bookingStage: any;\n  confirmStage: any;\n  trackingStage: any;\n  searchingStage: any;\n  noDriverStage: any;\n  drivingToDestinationStage: any;\n  data: any;\n  cash: any = false;\n  state: any = [];\n  mapPinStage: boolean;\n  D_LatLng: { lat: any; lng: any; };\n  mapPinDrag: any;\n  showResetLocationButton: any = false;\n  showloader: boolean;\n  mapClass: any;\n  destinationAddress: string = 'Drag To Pick Destination';\n  locationAddress: string = 'Loading...';\n  distance: any;\n  direction: any;\n  actualDestination: any;\n  markers: any;\n  allDrivers: Observable<Drivers[]>;\n  NoDrivers: boolean;\n  driverMarker: string;\n  driver_duration_apart: number;\n  driver_number_of_seats: any;\n  price: any = 0;\n  carname: any;\n  driver_ID: any;\n  bounds: any;\n  DriverLatLng: { lat: any; lng: any; };\n  driver_marker: any;\n  drivers_Requested: any[];\n  current_Request_Number: number = -1;\n  Driver_Rejected: any;\n  numCalls: any;\n  currentDriver: any;\n  unsubscribe: import(\"@angular/fire/firestore\").Unsubscribe;\n  driverInfo: import(\"@angular/fire/firestore\").DocumentData;\n  \n  duration: any;\n  riderCleared: any;\n  updateDriverSubcription: any;\n  canCheck: boolean;\n  rider_marker: any;\n  marker1: any;\n  marker2: any;\n  actualLocation: string;\n  LatLng: { lat: number; lng: number; };\n  mapy: boolean;\n  AllCarMarkers: Marker[];\n  _carmarkers: any[];\n  cards: import(\"@angular/fire/firestore\").DocumentData[];\n  selected: any;\n  selectedCard: any;\n  closeDrivers: any;\n  countDown: any;\n  listen: any;\n  places: import(\"@angular/fire/firestore\").DocumentData[];\n\n\n  constructor( private authService: AuthService, private auth: Auth, public map: MapService, private nav: NavController, private platform: Platform, private firestore: Firestore, private readonly database: AvatarService, private ngZone: NgZone, private geocode: GeocodeService, private overlay: OverlayService, private modalCtrl: ModalController) {}\n\n\n  //start the scene\n  async ngOnInit() {\n   try{\n    this.EnterBookingStage();\n    await Geolocation.checkPermissions();\n    const coordinates = await Geolocation.getCurrentPosition();\n    this.coordinates = coordinates;\n\n   await this.map.createMap(this.mapRef.nativeElement, coordinates);\n   this.mapy = true;\n\n   this.database.getCards().subscribe((d)=>{\n    console.log(d);\n    this.cards = d\n\n    this.cards.forEach(element => {\n     console.log(element);\n      if (element.selected == true){\n       this.selected = element\n       this.selectedCard = element.name;\n       if (this.selectedCard == 'cash')\n       this.cash = true;\n       console.log(this.selectedCard);\n      }\n    });\n})\n\nthis.database.getKnownPlaces().subscribe((d)=>{\n  this.places = d.slice(0,3);\n  this.places\n  \nconsole.log(d)\n  \n})\n  \n      this.actualLocation = this.map.actualLocation;\n     this.locationAddress = this.map.locationAddress\n              \n             \n    this.LatLng = {\n      lat: coordinates.coords.latitude,\n      lng: coordinates.coords.longitude\n    }\n\n            //this.database.CreateNewDriver(coordinates);\n\n              this.map.newMap.setOnCameraIdleListener((g) => {\n                this.ngZone.run(()=>{\n                  this.showResetLocationButton = true;\n                })\n              })\n\n              this.map.newMap.setOnCameraIdleListener((g) => {\n                this.ngZone.run(async ()=>{\n                  console.log(g);\n                  if (this.mapPinStage){\n                 \n                   const address = await this.geocode.getAddress(g.latitude, g.longitude)\n                   this.D_LatLng =  {\n                    lat: g.latitude,\n                    lng: g.longitude,\n                  }\n                  this.actualDestination = this.map.actualLocation;;\n                  this.destinationAddress = address.data.results[1].address_components[0].long_name + ' ' + address.data.results[1].address_components[1].long_name;\n                  }\n                })\n              })\n             \n              await this.map.newMap.enableCurrentLocation(true);\n             \n              this.price = null;\n\n\n            }catch(e){\n              this.overlay.showAlert('Error', e)\n            }    \n           \n            await this.checkDriversAround(this.coordinates);\n\n}\n\nasync logout() {\n  await this.authService.logout();\n}\n\nionViewDidLeave() {\n  if(this.listen)\n    this.listen.unsubscribe();\n}\n\nionViewDidEnter(){\n  if (this.coordinates)\n  this.listen = interval(5000).subscribe(async ()=>{\n    await this.checkDriversAround(this.coordinates);\n  })\n\n}\n\n\n  async simulateDriverAPP(){\n    let coords = {\n      coords: {latitude: 51.5074, longitude: 0.1278},\n    }\n  }\n\n\n\n/// Show all drivers around the user and reset marker states\n  async checkDriversAround(cord){\n    try{\n      let numbs = [];\n      \n      const center = [cord.coords.latitude, cord.coords.longitude];\n      const radiusInM = 500 * 1000;\n      const drivers = await this.database.checkDriversWithin(center, radiusInM);\n         //Start Listening for any changes within;\n         this.current_Request_Number = 0\n      console.log(\"Should show drivers here  \"+drivers);\n      if (drivers.length == 0){\n        this.NoDrivers = true;\n      }else{\n        this.NoDrivers = false;\n        console.log(drivers);\n        this.drivers_Requested = [];\n        this._carmarkers = [];\n        drivers.forEach((element, key, arr) => {\n          numbs.push(element.duration)\n          const min = Math.min(...numbs)\n          this.driver_duration_apart = min;\n          if (element.duration <= 1000 && element.onlineState == true)\n          {\n              this.drivers_Requested.push(element);\n              console.log(this.drivers_Requested);\n              this.carname = this.drivers_Requested[0].Driver_car\n              this.driver_ID = this.drivers_Requested[0].Driver_id\n              this.driver_number_of_seats = this.drivers_Requested[0].seats\n              \n              this.DriverLatLng = {\n                lat: this.drivers_Requested[0].Driver_lat,\n                lng: this.drivers_Requested[0].Driver_lng,\n              }\n\n            //  alert(this.drivers_Requested[0]);\n          }else{\n            if (Object.is(arr.length - 1, key)) {\n              this.NoDrivers = true;\n             }\n          }\n\n          //alert(JSON.stringify(element));\n          // console.log(min);\n          // console.log(element);\n          this.closeDrivers = element;\n         \n          \n        });\n      }\n\n    }catch(e){\n      this.overlay.showAlert('Error', e);\n    }\n\n  }\n\n\n\n  async chooseCard(even){\n    console.log(even);\n     this.overlay.showLoader('Please wait..');\n     await this.database.updateCArd(this.selected.name, this.selected.number, this.selected.type, this.selected.id, false)\n    this.cards.forEach(async element => {\n      console.log(element);\n       if (element.name == even.detail.value){\n      await this.database.updateCArd(element.name, element.number, element.type, element.id, true)\n       this.overlay.hideLoader();\n       }\n       })\n  }\n\nasync StartRide(){\n  try{\n  \n\n  if (this.marker1){\n  await this.map.newMap.removeMarker(this.marker1.toString());\n  this.marker1 = null;\n  console.log('removed ', this.marker1)\n  }\n\n  if (this.marker2){\n  await this.map.newMap.removeMarker(this.marker2.toString());\n  this.marker2 = null\n  console.log('removed ', this.marker2)\n  }\n\n  if (this._carmarkers){\n  this._carmarkers.forEach(async element => {\n    console.log(element, this._carmarkers)\n    await this.map.newMap.removeMarker(element);\n    console.log('removed ', element)\n    this._carmarkers = null;\n  });\n}\n\nthis.map.newMap.enableCurrentLocation(false);\n\n  this.BookRide();\n}catch(e){\n   this.overlay.showAlert('MArker Error', e)\n}\n  \n  \n}\n\n  async BookRide(){\n     await this.overlay.showLoader('');\n\n     if (this.driver_marker){\n      await this.map.newMap.removeMarker(this.driver_marker);\n      this.driver_marker = null;\n      \n      }\n  \n      if (this.rider_marker){\n      await this.map.newMap.removeMarker(this.rider_marker);\n      this.rider_marker = null;\n     \n      }\n    let driver = this.drivers_Requested[this.current_Request_Number]\n\n    const userDocRef = doc(this.firestore, `Request`, driver.Driver_id);\n\n    const unsub = onSnapshot(doc(this.firestore, \"Drivers\", driver.Driver_id), async (doc) => {\n\n     if (this.price && doc.data().onlineState == true){\n        unsub();\n        \n        await this.database.RequestRideWithRiderDetails(this.LatLng, this.destinationAddress, this.locationAddress, this.D_LatLng, driver.Driver_id, this.price, this.cash);\n        \n\n      //alert(driver);\n  //  if (driver != undefined){\n      this.currentDriver = driver;\n\n      console.log(driver);\n\n        \n          // doc.data() is never undefined for query doc snapshots\n          \n          console.log(doc.data()); \n          \n        \n    // Driver Things;\n   \n    \n     this.DriverLatLng = {\n      lat: this.drivers_Requested[this.current_Request_Number].Driver_lat,\n      lng: this.drivers_Requested[this.current_Request_Number].Driver_lng,\n    }\n\n      await this.createAndMoveMarkersOnRealtime(this.DriverLatLng, false, false);\n      this.overlay.hideLoader();\n      this.EnterSearchingStage();\n\n       \n\n\n\n            //after some time check if the next element has a driver if no request from driver, then close request and start a new request.\n            console.log('This is the driver '+ driver);\n\n\n\n               this.startTimer(driver, 20);\n           \n              this.numCalls = timer(20000).subscribe(async ()=>{\n               // await this.database.updateDriverOnlineState(driver.Driver_id)\n                // await this.database.CreateandUpdateDriver(coords, driver.Driver_id)\n                this.countDown.unsubscribe();\n                ///if the the there is still a driver in the array then call him else cancel the request\n                if (this.drivers_Requested[this.current_Request_Number+1] != null){\n                 \n                this.current_Request_Number++;\n                console.log(driver);\n                this.BookRide();\n                this.unsubscribe();\n                this.numCalls.unsubscribe();\n                console.log('requested another driver' + this.current_Request_Number);\n              }else{\n                this.numCalls.unsubscribe();\n                this.unsubscribe()\n                this.GoHome();\n                console.log('No more Drivers To Request' + this.current_Request_Number);\n                  if (this.driver_marker){\n                  await this.map.newMap.removeMarker(this.driver_marker.toString());\n                  this.driver_marker = null;\n                  }\n              \n                  if (this.rider_marker){\n                  await this.map.newMap.removeMarker(this.rider_marker.toString());\n                  this.rider_marker = null;\n                  }\n              }\n              })\n\n\n       \n\n\n          \n               this.unsubscribe = onSnapshot(userDocRef, async (doc) => {\n           // console.log(snapshot);\n            \n                  //If the driver rejects the request then close request and start a new one     \n                  if (doc.data().cancel == true){\n                    this.countDown.unsubscribe();\n                    this.numCalls.unsubscribe();\n                    ///if the the there is still a driver in the array then call him else cancel the request\n                    if (this.drivers_Requested[this.current_Request_Number+1].Driver_id){\n                      this.current_Request_Number++;\n                      this.BookRide();\n                      this.unsubscribe();\n                      console.log('requested another driver' + this.current_Request_Number);\n                      }else{\n                      this.unsubscribe();\n                      this.GoHome();\n                      console.log('No more Drivers To Request' + this.current_Request_Number);\n\n                      if (this.driver_marker){\n                        await this.map.newMap.removeMarker(this.driver_marker.toString());\n                        this.driver_marker = null;\n                        }\n                    \n                        if (this.rider_marker){\n                        await this.map.newMap.removeMarker(this.rider_marker.toString());\n                        this.rider_marker = null;\n                        }\n                      }\n\n                    //  await this.database.RestartRequestSinceReject(this.drivers_Requested[this.current_Request_Number].id)\n                    }\n\n                  if (doc.data().start == true){\n                    this.driverInfo = doc.data();\n                   \n                    if (this.canCheck) {\n                      //show rider marker going to destination on realtime with updates;\n                      this.canCheck = false;\n                      this.clearPrevMarkers()\n                    this.updateDriverSubcription = timer(4000).subscribe(async ()=>{\n                         await this.createAndMoveMarkersOnRealtime(this.D_LatLng, true, true);\n                         this.canCheck = true;\n                     })\n                    }\n                    console.log(doc.data());\n                    this.EnterDrivingToDestinationStage();\n\n                    if (doc.data().cancel == true){\n                      if (!this.riderCleared){\n                      this.overlay.showAlert('Driver', 'Cancelled');\n                      }else{\n                        this.overlay.showAlert('You', 'Cancelled');\n                      }\n\n                      this.unsubscribe();\n                      this.GoHome();\n                    }\n                  }\n\n\n                  if (doc.data().stop == true){\n                    this.unsubscribe();\n                    //this.overlay.showAlert('Ride', 'Completed');\n                    this.ClearRide();\n                    await this.database.createHistory(doc.data());\n                    if (this.countDown)\n                    this.countDown.unsubscribe();\n                  }\n              \n\n\n              \n                 \n                if (doc.data().Driver_name && doc.data().stop == false && doc.data().start == false && doc.data().cancel == false){\n                  this.driverInfo = doc.data(); \n                  this.countDown.unsubscribe();\n                  this.numCalls.unsubscribe();\n                  this.DriverLatLng = {\n                  lat: doc.data().Driver_lat,\n                  lng: doc.data().Driver_lng,\n                }\n                if (this.canCheck) {\n                  // show rider marker and driver marker coming together;\n                  this.canCheck = false;\n                  this.clearPrevMarkers();\n                  this.updateDriverSubcription = timer(4000).subscribe(async ()=>{\n                    this.canCheck = true;\n                     await this.createAndMoveMarkersOnRealtime(this.DriverLatLng, true, false);\n               })\n                }\n                \n                console.log(doc.data());\n                this.EnterTrackingStage();\n              }\n              \n      \n    \n          });\n\n          // timer(10000).subscribe(async ()=>{\n          //   this.database.PushDriverToRequest(driver);\n          //  })\n\n            }else{\n               if (this.countDown)\n               this.countDown.unsubscribe();\n                if (this.drivers_Requested[this.current_Request_Number+1] != null){\n                this.current_Request_Number++;\n                console.log(driver);\n                this.BookRide();\n                console.log('requested another driver' + this.current_Request_Number);\n              }else{\n                this.GoHome();\n                this.overlay.showAlert('Busy', 'The Requested Driver is currently Busy, Please Try again');\n                console.log('No more Drivers To Request' + this.current_Request_Number);\n              }\n            }\n\n          // }else{\n          //   this.NoDrivers = true;\n          //   this.EnterNoDriverStage();\n          // }\n\n        })\n  }\n\n\n\n\n  startTimer(driver, sec) {\n     this.countDown = interval(1000).subscribe(async ()=>{\n        await this.database.UpdateCountDown(sec, driver)\n        sec--;\n        if(sec == 0)\n        {\n          this.countDown.unsubscribe();\n        }\n      })\n }\n\n\n\n  async goBackTOAutocomplete(){\n\n    if (this.marker1){\n    await this.map.newMap.removeMarker(this.marker1);\n    this.marker1 = null;\n    }\n\n    if (this.marker2){\n    await this.map.newMap.removeMarker(this.marker2);\n    this.marker2 = null;\n    }\n\n    if (this._carmarkers){\n      this._carmarkers.forEach(async element => {\n        console.log(element, this._carmarkers)\n        await this.map.newMap.removeMarker(element);\n        console.log('removed ', element);\n      });\n    }\n\n    this.showAutocompleteModal();\n  }\n\n\n  //open the search section for autocomplete\n  async showAutocompleteModal(): Promise<void> \n  {\n    const options: ModalOptions = {\n      component: AutocompleteComponent,\n      componentProps: {\n         LatLng: this.LatLng,\n         locationAddress: this.locationAddress\n      },\n      swipeToClose: true,\n    };\n\n    // this.map.newMap.hide();\n\n    \n\n    \n  \n    const modal = await this.modalCtrl.create(options);\n    modal.present();\n\n    const { data } = await modal.onWillDismiss();\n    console.log(data);\n    // this.map.newMap.show();\n\n    \n    this.data = data;\n\n    if (data.pinOnMap) {\n      this.EnterMapPinStage();\n      this.mapPinDrag = true;\n    }\n\n    if (data.home) {\n      this.EnterBookingStage();\n      await this.map.newMap.setCamera({\n        animate: true,\n        animationDuration: 500,\n        zoom: 15,\n        coordinate: this.LatLng\n      })\n    }\n\n    if (data.searching) {\n      this.database.AddKnownPlace(data);\n      this.destinationAddress = data.full;\n      this.actualDestination = data.whole.full;\n\n      const latLng = await this.geocode.getLatLng(data.whole.description);\n      this.D_LatLng =  {\n        lat: latLng.data.results[0].geometry.location.lat,\n        lng: latLng.data.results[0].geometry.location.lng,\n      }\n      this.getDistanceandDirections();\n    }\n\n  }\n\n  async RequestRide(dat){\n    if (!this.NoDrivers){\n      this.destinationAddress = dat.place.full;\n      this.actualDestination = dat.place.whole.full;\n\n      const latLng = await this.geocode.getLatLng(dat.place.whole.description);\n      this.D_LatLng =  {\n        lat: latLng.data.results[0].geometry.location.lat,\n        lng: latLng.data.results[0].geometry.location.lng,\n      }\n      this.getDistanceandDirections();\n    }else{\n      this.EnterNoDriverStage();\n    }\n  }\n\n\n  //reset the map to the user location view\n async resetLocation(): Promise<void>{\n  console.log(this.LatLng);\n  await this.map.newMap.setCamera({\n    animate: true,\n    animationDuration: 500,\n    zoom: 15,\n    coordinate: this.LatLng\n  });\n  this.showResetLocationButton = false;\n}\n  \n///get the distance and directions to destination\n  async getDistanceandDirections()\n  {\n\n    if (this.listen)\n    this.listen.unsubscribe();\n\n    if (this.D_LatLng.lat){\n    if (!this.NoDrivers){\n      this.EnterConfirmStage();\n    }else{\n      this.EnterNoDriverStage();\n    }\n  \n     var origin1 = new google.maps.LatLng(this.LatLng.lat, this.LatLng.lng);\n     var origin2 = new google.maps.LatLng(this.D_LatLng.lat, this.D_LatLng.lng);\n\n     if (!this.NoDrivers)\n     var request = {\n      origin: origin1,\n      destination: origin2,\n      travelMode: google.maps.TravelMode.DRIVING,\n    };\n          this.geocode.directions.route(request, async (response, status) => {\n\n             if (status == 'OK')\n             {\n               this.direction = response;\n               \n               this.distance = response.routes[0].legs[0].distance.value;\n\n               this.bounds = response.routes[0].bounds;\n\n               this.price = this.distance/10;\n\n               await this.UpdateCarMarker(this.closeDrivers);\n\n               await this.createAndAddMarkers(this.LatLng, this.D_LatLng, this.bounds);\n             }\n             else\n             {\n              this.overlay.showAlert('Direction ERROR', JSON.stringify(response))\n             }\n\n          }) \n        }else{\n          this.overlay.showAlert('Drag Map', 'Drag the map and stop on your required destination')\n        }\n  }\n\n  //create and update car markers on the map.\n  async UpdateCarMarker(element){\n    let latlng = {\n      lat: element.Driver_lat,\n      lng: element.Driver_lng\n    }\n    \n  const markers = await this.map.newMap.addMarker({ \n    coordinate: latlng,\n    iconUrl: 'https://i.ibb.co/KDy365b/hatchback.png',\n    title: 'My 2',\n  })\n\n  if (markers)\n  this._carmarkers.push(markers.toString());\n  console.log( this._carmarkers,  markers.toString());\n   \n  }\n\n//Return to Map page\n  async GoHome(){\n    await this.map.newMap.enableCurrentLocation(true);\n    this.current_Request_Number = 0\n    this.price = null;\n    this.listen = interval(5000).subscribe(async ()=>{\n      await this.checkDriversAround(this.coordinates);\n    })\n    this.EnterBookingStage();\n     await this.map.newMap.setCamera({\n        animate: true,\n        animationDuration: 500,\n        zoom: 15,\n        coordinate: this.LatLng\n        \n      })\n  }\n\n  async GotoSupport(){\n    await this.nav.navigateForward('support');\n   \n    \n  }\n\n  async clearPrevMarkers(){\n    if (this.driver_marker){\n      await this.map.newMap.removeMarker(this.driver_marker.toString());\n      this.driver_marker = null;\n      }\n  \n      if (this.rider_marker){\n      await this.map.newMap.removeMarker(this.rider_marker.toString());\n      this.rider_marker = null;\n      }\n  }\n\n  //Return to Map page\n  async ReturnHome(){\n    this.EnterBookingStage();\n      await this.map.newMap.setCamera({\n        animate: true,\n        animationDuration: 500,\n        zoom: 15,\n        coordinate: this.LatLng\n       \n      })\n  }\n\n//Cancel the Current Ride Request.....\n  async CancelRide(){\n     \n    this.overlay.showLoader('Please Wait..');\n    \n    if (this.driver_marker){\n    await this.map.newMap.removeMarker(this.driver_marker.toString());\n    this.driver_marker = null;\n    }\n\n    if (this.rider_marker){\n    await this.map.newMap.removeMarker(this.rider_marker.toString());\n    this.rider_marker = null;\n    }\n\n    \n\n    let coords = {\n      coords: {latitude: this.currentDriver.Driver_lat, longitude: this.currentDriver.Driver_lng},\n    }\n    this.unsubscribe();\n    this.numCalls.unsubscribe();\n    this.riderCleared = true;\n    await this.database.cancelRide(this.currentDriver.Driver_id)\n    await this.map.newMap.enableCurrentLocation(true);\n    this.current_Request_Number = 0\n    this.price = null;\n    this.listen = interval(5000).subscribe(async ()=>{\n      await this.checkDriversAround(this.coordinates);\n    })\n    this.EnterBookingStage();\n    this.overlay.hideLoader();\n      await this.map.newMap.setCamera({\n        animate: true,\n        animationDuration: 500,\n        zoom: 15,\n      coordinate: this.LatLng\n      })\n  }\n\n///Clear the ride that has already started\n  async ClearRide(){\n    this.EnterBookingStage();\n    if (this.driver_marker){\n    await this.map.newMap.removeMarker(this.driver_marker);\n    this.driver_marker = null;\n    }\n    if (this.rider_marker){\n    await this.map.newMap.removeMarker(this.rider_marker);\n    this.rider_marker = null;\n    }\n\n    await this.map.newMap.enableCurrentLocation(true);\n    this.current_Request_Number = 0\n    this.price = null;\n\n    this.listen = interval(5000).subscribe(async ()=>{\n      await this.checkDriversAround(this.coordinates);\n    })\n    await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng,\n      bearing: 0\n    })\n   \n  }\n\n\n  async CallDriver(){\n      \n  }\n\n\n  ///create markers and possition them in the view of the user\n  async createAndMoveMarkersOnRealtime(otherLatLng, state, isDestination){\n\nvar origin1 = new google.maps.LatLng(this.LatLng.lat, this.LatLng.lng);\nvar origin2 = new google.maps.LatLng(otherLatLng.lat, otherLatLng.lng);\n\nvar request = {\norigin: origin2,\ndestination: origin1,\ntravelMode: google.maps.TravelMode.DRIVING,\n};\n    this.geocode.directions.route(request, async (response, status) => {\n       if (status == 'OK')\n       {\n         this.bounds = response.routes[0].bounds;\n\n         this.duration = response.routes[0].legs[0].duration.text;\n  \n   let markerUrl;\n  if (!isDestination){\n    markerUrl = 'https://i.ibb.co/KDy365b/hatchback.png'\n  }else{\n    markerUrl = 'https://i.ibb.co/bWx9V64/favourite.png'\n  }\n\n   this.driver_marker = await this.map.newMap.addMarker({\n     coordinate: otherLatLng,\n       iconUrl: markerUrl,\n       title: 'My 2',\n  });\n\n  this.rider_marker = await this.map.newMap.addMarker({\n    coordinate: this.LatLng,\n     iconUrl: \"https://i.ibb.co/N9LXGk3/home-1.png\",\n     title: 'My 2',\n});\n\n\n    const locs = [\n     {\n       geoCode: {\n         latitude: this.LatLng.lat,\n         longitude: this.LatLng.lng\n       }\n     },\n     {\n       geoCode: {\n         latitude: otherLatLng.lat,\n         longitude: otherLatLng.lng\n       }\n     }\n   ];\n\n   let go = {\n     lat: (await this.map.CalculateCenter(locs)).latitude,\n     lng: (await this.map.CalculateCenter(locs)).longitude\n   }\n\n   if (state){\n    await this.map.newMap.setPadding({\n      top: 0,\n      left:0,\n      right:0,\n      bottom: 600\n    })\n   }\n   \n\n   let mapDim = {\n     height: this.mapRef.nativeElement.offsetHeight/2,\n     width: this.mapRef.nativeElement.offsetWidth\n   }\n     await this.map.newMap.setCamera({\n       animate: true,\n       animationDuration: 500,\n       zoom: await this.map.getBoundsZoomLevel(this.bounds, mapDim),\n       coordinate: go,\n      bearing: 0\n     })\n\n     this.canCheck = true;\n\n    }\n    else\n    {\n     this.overlay.showAlert('Direction ERROR', JSON.stringify(response))\n    }\n\n })\n \n  }\n\n\n  ///create markers and possition them in the view of the user\n  async createAndAddMarkers(loc, des, bounds){\n\n    this.marker1 = await this.map.newMap.addMarker({\n      coordinate: loc,\n       iconUrl: \"https://i.ibb.co/N9LXGk3/home-1.png\",\n       title: 'My 2',\n  });\n\n  this.marker2 = await this.map.newMap.addMarker({\n   coordinate: des,\n     iconUrl: 'https://i.ibb.co/bWx9V64/favourite.png',\n     title: 'My 2',\n});\n\n\n\n       const locs = [\n        {\n          geoCode: {\n            latitude: loc.lat,\n            longitude: loc.lng\n          }\n        },\n        {\n          geoCode: {\n            latitude: des.lat,\n            longitude: des.lng\n          }\n        }\n      ];\n\n       \n\n      let go = {\n        lat: (await this.map.CalculateCenter(locs)).latitude,\n        lng: (await this.map.CalculateCenter(locs)).longitude\n      }\n\n      let mapDim = {\n        height: this.mapRef.nativeElement.offsetHeight/2,\n        width: this.mapRef.nativeElement.offsetWidth\n      }\n        await this.map.newMap.setCamera({\n          animate: true,\n          animationDuration: 500,\n          zoom: await this.map.getBoundsZoomLevel(bounds, mapDim),\n          coordinate: go,\n          bearing: 0\n        })\n  }\n\n\n  \n\n  EnterBookingStage() \n  {\n    this.bookingStage = true\n    this.confirmStage = false;\n    this.trackingStage = false;\n    this.searchingStage = false;\n    this.noDriverStage = false;\n    this.mapPinStage = false;\n    this.drivingToDestinationStage = false;\n  }\n\n\n  EnterMapPinStage() {\n    this.bookingStage = false\n    this.confirmStage = false;\n    this.trackingStage = false;\n    this.searchingStage = false;\n    this.noDriverStage = false;\n    this.mapPinStage = true;\n    this.drivingToDestinationStage = false;\n  }\n\n  EnterConfirmStage() {\n    this.bookingStage = false;\n    this.confirmStage = true;\n    this.trackingStage = false;\n    this.searchingStage = false;\n    this.noDriverStage = false;\n    this.mapPinStage = false;\n    this.drivingToDestinationStage = false;\n  }\n\n  EnterSearchingStage() {\n    this.bookingStage = false;\n    this.confirmStage = false;\n    this.trackingStage = false;\n    this.searchingStage = true;\n    this.noDriverStage = false;\n    this.mapPinStage = false;\n    this.drivingToDestinationStage = false;\n  }\n\n  EnterNoDriverStage() {\n    this.bookingStage = false;\n    this.confirmStage = false;\n    this.trackingStage = false;\n    this.searchingStage = false;\n    this.noDriverStage = true;\n    this.mapPinStage = false;\n    this.drivingToDestinationStage = false;\n  }\n\n  EnterTrackingStage() {\n    this.bookingStage = false;\n    this.confirmStage = false;\n    this.trackingStage = true;\n    this.searchingStage = false;\n    this.noDriverStage = false;\n    this.mapPinStage = false;\n    this.drivingToDestinationStage = false;\n  }\n\n  EnterDrivingToDestinationStage() {\n    this.bookingStage = false;\n    this.confirmStage = false;\n    this.trackingStage = false;\n    this.searchingStage = false;\n    this.mapPinStage = false;\n    this.noDriverStage = false;\n    this.drivingToDestinationStage = true;\n  }\n\n\n\n\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Client } from '@googlemaps/google-maps-services-js';\nimport { environment } from 'src/environments/environment';\nimport { OverlayService } from './overlay.service';\ndeclare let google;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GeocodeService {\n  service = new google.maps.DistanceMatrixService();\n  directions = new google.maps.DirectionsService();\n\n  constructor(private client: Client, private overlay: OverlayService) { }\n\n  //convert the lat and lng numbers to an actual address\n  async getAddress(lat: number, lng: number){\n    try{\n   const address = await this.client\n     .reverseGeocode({\n     params: {\n       latlng: { lat: lat, lng: lng },\n       key: environment.apiKey,\n     },\n     timeout: 5000, // milliseconds\n   })\n   console.log(address);\n   return address\n    }catch(e){\n      this.overlay.showAlert('GeoError', e);\n    }\n  }\n\n    //convert the address to lat and lng\n  async getLatLng(addressi){\n    try{\n   const latlng = await this.client.geocode({\n     params: {\n       address: addressi,\n       key: environment.apiKey,\n     },\n     timeout: 5000, // milliseconds\n   })\n  return latlng\n    }catch(e){\n      this.overlay.showAlert('GeoError', e);\n      console.log(e);\n    }\n  }\n\n\n\n  //Get the distance between the origin and destination\n  async getDirections(from, to){\n    try{\n    \n    }catch(e){\n      this.overlay.showAlert('GeoError', e)\n      console.log(e)\n    }\n  }\n\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { throwError } from 'rxjs';\n import { GoogleMap, MapType } from '@capacitor/google-maps';\nimport { environment } from 'src/environments/environment';\nimport { GeocodeService } from './geocode.service';\nimport { OverlayService } from './overlay.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n  LatLng: { lat: any; lng: any; };\n  locationAddress: string = 'Loading..';\n  showResetLocationButton: boolean;\n  mapPinStage: any;\n  D_LatLng: { lat: any; lng: any; };\n  actualLocation: any;\n   exampleMapId: any;\n  newMap: GoogleMap;\n\n  constructor(private overlay: OverlayService, private geocode: GeocodeService) {\n   }\n\n  //create google maps get the map movement listener\n  async createMap( ref, coords ) {\n    try{\n     this.newMap = await GoogleMap.create({\n       id: 'my-cool-map',\n       element: ref,\n       apiKey: environment.apiKey,\n       config: {\n         center: {\n           lat: 5.5122138,\n           lng: 7.4919135\n         },\n         zoom: 8,\n       },\n     });\n \n     this.LatLng =  {\n       lat: coords.coords.latitude,\n       lng: coords.coords.longitude\n     }\n\n\n    this.newMap.enableTrafficLayer(true);\n    this.newMap.enableCurrentLocation(true);\n     await this.newMap.setCamera({\n       animate: true,\n       animationDuration: 500,\n       zoom: 15,\n       coordinate: this.LatLng\n     })\n        const address = await this.geocode.getAddress(this.LatLng.lat, this.LatLng.lng)\n        this.actualLocation = address.data.results[0].formatted_address;\n        this.locationAddress = address.data.results[1].address_components[0].long_name + ' ' + address.data.results[1].address_components[1].long_name;\n       \n   }catch(e){\n      alert(e)\n   }\n }\n\n \n\n\n async CalculateCenter(locations) {\n  var latitude = 0,\n    longitude = 0;\n\n  for (var location of locations) {\n    longitude += location.geoCode.longitude;\n    latitude += location.geoCode.latitude;\n  }\n  latitude = latitude / locations.length;\n  longitude = longitude / locations.length;\n  await latitude, longitude\n  return {\n    latitude,\n    longitude\n  };\n}\n\nasync getBoundsZoomLevel(bounds, mapDim) {\n  var WORLD_DIM = { height: 256, width: 256 };\n  var ZOOM_MAX = 21;\n\n  function latRad(lat) {\n      var sin = Math.sin(lat * Math.PI / 180);\n      var radX2 = Math.log((1 + sin) / (1 - sin)) / 2;\n      return Math.max(Math.min(radX2, Math.PI), -Math.PI) / 2;\n  }\n\n  function zoom(mapPx, worldPx, fraction) {\n      return Math.floor(Math.log(mapPx / worldPx / fraction) / Math.LN2);\n  }\n\n  var ne = bounds.getNorthEast();\n  var sw = bounds.getSouthWest();\n\n  var latFraction = (latRad(ne.lat()) - latRad(sw.lat())) / Math.PI;\n\n  var lngDiff = ne.lng() - sw.lng();\n  var lngFraction = ((lngDiff < 0) ? (lngDiff + 360) : lngDiff) / 360;\n\n  var latZoom = zoom(mapDim.height, WORLD_DIM.height, latFraction);\n  var lngZoom = zoom(mapDim.width, WORLD_DIM.width, lngFraction);\n\n  await Math.min(latZoom, lngZoom, ZOOM_MAX);\n  return Math.min(latZoom, lngZoom, ZOOM_MAX);\n}\n\n\n\n \n \n \n}\n","export {};\n","import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n","export var MapType;\n(function (MapType) {\n    /**\n     * Basic map.\n     */\n    MapType[\"Normal\"] = \"Normal\";\n    /**\n     * Satellite imagery with roads and labels.\n     */\n    MapType[\"Hybrid\"] = \"Hybrid\";\n    /**\n     * Satellite imagery with no labels.\n     */\n    MapType[\"Satellite\"] = \"Satellite\";\n    /**\n     * Topographic data.\n     */\n    MapType[\"Terrain\"] = \"Terrain\";\n    /**\n     * No base map tiles.\n     */\n    MapType[\"None\"] = \"None\";\n})(MapType || (MapType = {}));\n","import { registerPlugin } from '@capacitor/core';\nconst CapacitorGoogleMaps = registerPlugin('CapacitorGoogleMaps', {\n    web: () => import('./web').then(m => new m.CapacitorGoogleMapsWeb()),\n});\nCapacitorGoogleMaps.addListener('isMapInFocus', data => {\n    var _a;\n    const x = data.x;\n    const y = data.y;\n    const elem = document.elementFromPoint(x, y);\n    const internalId = (_a = elem === null || elem === void 0 ? void 0 : elem.dataset) === null || _a === void 0 ? void 0 : _a.internalId;\n    const mapInFocus = internalId === data.mapId;\n    CapacitorGoogleMaps.dispatchMapEvent({ id: data.mapId, focus: mapInFocus });\n});\nexport { CapacitorGoogleMaps };\n","/* eslint-disable @typescript-eslint/no-namespace */\nimport { MapType } from './definitions';\nimport { GoogleMap } from './map';\nexport { GoogleMap, MapType };\n","import { Capacitor } from '@capacitor/core';\nimport { CapacitorGoogleMaps } from './implementation';\nclass MapCustomElement extends HTMLElement {\n    constructor() {\n        super();\n    }\n    connectedCallback() {\n        if (Capacitor.getPlatform() == 'ios') {\n            this.style.overflow = 'scroll';\n            this.style['-webkit-overflow-scrolling'] = 'touch';\n            const overflowDiv = document.createElement('div');\n            overflowDiv.style.height = '200%';\n            this.appendChild(overflowDiv);\n        }\n    }\n}\ncustomElements.define('capacitor-google-map', MapCustomElement);\nexport class GoogleMap {\n    constructor(id) {\n        this.element = null;\n        this.handleScrollEvent = () => this.updateMapBounds();\n        this.id = id;\n    }\n    /**\n     * Creates a new instance of a Google Map\n     * @param options\n     * @param callback\n     * @returns GoogleMap\n     */\n    static async create(options, callback) {\n        const newMap = new GoogleMap(options.id);\n        if (!options.element) {\n            throw new Error('container element is required');\n        }\n        if (options.config.androidLiteMode === undefined) {\n            options.config.androidLiteMode = false;\n        }\n        newMap.element = options.element;\n        newMap.element.dataset.internalId = options.id;\n        const elementBounds = options.element.getBoundingClientRect();\n        options.config.width = elementBounds.width;\n        options.config.height = elementBounds.height;\n        options.config.x = elementBounds.x;\n        options.config.y = elementBounds.y;\n        options.config.devicePixelRatio = window.devicePixelRatio;\n        if (Capacitor.getPlatform() == 'android') {\n            newMap.initScrolling();\n        }\n        if (Capacitor.isNativePlatform()) {\n            options.element = {};\n        }\n        await CapacitorGoogleMaps.create(options);\n        if (callback) {\n            const onMapReadyListener = await CapacitorGoogleMaps.addListener('onMapReady', (data) => {\n                if (data.mapId == newMap.id) {\n                    callback(data);\n                    onMapReadyListener.remove();\n                }\n            });\n        }\n        return newMap;\n    }\n    /**\n     * Enable marker clustering\n     *\n     * @returns void\n     */\n    async enableClustering() {\n        return CapacitorGoogleMaps.enableClustering({\n            id: this.id,\n        });\n    }\n    /**\n     * Disable marker clustering\n     *\n     * @returns void\n     */\n    async disableClustering() {\n        return CapacitorGoogleMaps.disableClustering({\n            id: this.id,\n        });\n    }\n    /**\n     * Adds a marker to the map\n     *\n     * @param marker\n     * @returns created marker id\n     */\n    async addMarker(marker) {\n        const res = await CapacitorGoogleMaps.addMarker({\n            id: this.id,\n            marker,\n        });\n        return res.id;\n    }\n    /**\n     * Adds multiple markers to the map\n     *\n     * @param markers\n     * @returns array of created marker IDs\n     */\n    async addMarkers(markers) {\n        const res = await CapacitorGoogleMaps.addMarkers({\n            id: this.id,\n            markers,\n        });\n        return res.ids;\n    }\n    /**\n     * Remove marker from the map\n     *\n     * @param id id of the marker to remove from the map\n     * @returns\n     */\n    async removeMarker(id) {\n        return CapacitorGoogleMaps.removeMarker({\n            id: this.id,\n            markerId: id,\n        });\n    }\n    /**\n     * Remove markers from the map\n     *\n     * @param ids array of ids to remove from the map\n     * @returns\n     */\n    async removeMarkers(ids) {\n        return CapacitorGoogleMaps.removeMarkers({\n            id: this.id,\n            markerIds: ids,\n        });\n    }\n    /**\n     * Destroy the current instance of the map\n     */\n    async destroy() {\n        if (Capacitor.getPlatform() == 'android') {\n            this.disableScrolling();\n        }\n        this.removeAllMapListeners();\n        return CapacitorGoogleMaps.destroy({\n            id: this.id,\n        });\n    }\n    /**\n     * Update the map camera configuration\n     *\n     * @param config\n     * @returns\n     */\n    async setCamera(config) {\n        return CapacitorGoogleMaps.setCamera({\n            id: this.id,\n            config,\n        });\n    }\n    /**\n     * Sets the type of map tiles that should be displayed.\n     *\n     * @param mapType\n     * @returns\n     */\n    async setMapType(mapType) {\n        return CapacitorGoogleMaps.setMapType({\n            id: this.id,\n            mapType,\n        });\n    }\n    /**\n     * Sets whether indoor maps are shown, where available.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableIndoorMaps(enabled) {\n        return CapacitorGoogleMaps.enableIndoorMaps({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Controls whether the map is drawing traffic data, if available.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableTrafficLayer(enabled) {\n        return CapacitorGoogleMaps.enableTrafficLayer({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Show accessibility elements for overlay objects, such as Marker and Polyline.\n     *\n     * Only available on iOS.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableAccessibilityElements(enabled) {\n        return CapacitorGoogleMaps.enableAccessibilityElements({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Set whether the My Location dot and accuracy circle is enabled.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableCurrentLocation(enabled) {\n        return CapacitorGoogleMaps.enableCurrentLocation({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Set padding on the 'visible' region of the view.\n     *\n     * @param padding\n     * @returns\n     */\n    async setPadding(padding) {\n        return CapacitorGoogleMaps.setPadding({\n            id: this.id,\n            padding,\n        });\n    }\n    /**\n     * Get the map's current viewport latitude and longitude bounds.\n     *\n     * @returns {LatLngBounds}\n     */\n    async getMapBounds() {\n        return CapacitorGoogleMaps.getMapBounds({\n            id: this.id,\n        });\n    }\n    initScrolling() {\n        const ionContents = document.getElementsByTagName('ion-content');\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < ionContents.length; i++) {\n            ionContents[i].scrollEvents = true;\n        }\n        window.addEventListener('ionScroll', this.handleScrollEvent);\n        window.addEventListener('scroll', this.handleScrollEvent);\n        window.addEventListener('resize', this.handleScrollEvent);\n        if (screen.orientation) {\n            screen.orientation.addEventListener('change', () => {\n                setTimeout(this.updateMapBounds, 500);\n            });\n        }\n        else {\n            window.addEventListener('orientationchange', () => {\n                setTimeout(this.updateMapBounds, 500);\n            });\n        }\n    }\n    disableScrolling() {\n        window.removeEventListener('ionScroll', this.handleScrollEvent);\n        window.removeEventListener('scroll', this.handleScrollEvent);\n        window.removeEventListener('resize', this.handleScrollEvent);\n        if (screen.orientation) {\n            screen.orientation.removeEventListener('change', () => {\n                setTimeout(this.updateMapBounds, 1000);\n            });\n        }\n        else {\n            window.removeEventListener('orientationchange', () => {\n                setTimeout(this.updateMapBounds, 1000);\n            });\n        }\n    }\n    updateMapBounds() {\n        if (this.element) {\n            const mapRect = this.element.getBoundingClientRect();\n            CapacitorGoogleMaps.onScroll({\n                id: this.id,\n                mapBounds: {\n                    x: mapRect.x,\n                    y: mapRect.y,\n                    width: mapRect.width,\n                    height: mapRect.height,\n                },\n            });\n        }\n    }\n    /*\n    private findContainerElement(): HTMLElement | null {\n      if (!this.element) {\n        return null;\n      }\n  \n      let parentElement = this.element.parentElement;\n      while (parentElement !== null) {\n        if (window.getComputedStyle(parentElement).overflowY !== 'hidden') {\n          return parentElement;\n        }\n  \n        parentElement = parentElement.parentElement;\n      }\n  \n      return null;\n    }\n    */\n    /**\n     * Set the event listener on the map for 'onCameraIdle' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnCameraIdleListener(callback) {\n        if (this.onCameraIdleListener) {\n            this.onCameraIdleListener.remove();\n        }\n        if (callback) {\n            this.onCameraIdleListener = await CapacitorGoogleMaps.addListener('onCameraIdle', this.generateCallback(callback));\n        }\n        else {\n            this.onCameraIdleListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onBoundsChanged' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnBoundsChangedListener(callback) {\n        if (this.onBoundsChangedListener) {\n            this.onBoundsChangedListener.remove();\n        }\n        if (callback) {\n            this.onBoundsChangedListener = await CapacitorGoogleMaps.addListener('onBoundsChanged', this.generateCallback(callback));\n        }\n        else {\n            this.onBoundsChangedListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onCameraMoveStarted' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnCameraMoveStartedListener(callback) {\n        if (this.onCameraMoveStartedListener) {\n            this.onCameraMoveStartedListener.remove();\n        }\n        if (callback) {\n            this.onCameraMoveStartedListener = await CapacitorGoogleMaps.addListener('onCameraMoveStarted', this.generateCallback(callback));\n        }\n        else {\n            this.onCameraMoveStartedListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onClusterClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnClusterClickListener(callback) {\n        if (this.onClusterClickListener) {\n            this.onClusterClickListener.remove();\n        }\n        if (callback) {\n            this.onClusterClickListener = await CapacitorGoogleMaps.addListener('onClusterClick', this.generateCallback(callback));\n        }\n        else {\n            this.onClusterClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onClusterInfoWindowClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnClusterInfoWindowClickListener(callback) {\n        if (this.onClusterInfoWindowClickListener) {\n            this.onClusterInfoWindowClickListener.remove();\n        }\n        if (callback) {\n            this.onClusterInfoWindowClickListener =\n                await CapacitorGoogleMaps.addListener('onClusterInfoWindowClick', this.generateCallback(callback));\n        }\n        else {\n            this.onClusterInfoWindowClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onInfoWindowClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnInfoWindowClickListener(callback) {\n        if (this.onInfoWindowClickListener) {\n            this.onInfoWindowClickListener.remove();\n        }\n        if (callback) {\n            this.onInfoWindowClickListener = await CapacitorGoogleMaps.addListener('onInfoWindowClick', this.generateCallback(callback));\n        }\n        else {\n            this.onInfoWindowClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMapClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMapClickListener(callback) {\n        if (this.onMapClickListener) {\n            this.onMapClickListener.remove();\n        }\n        if (callback) {\n            this.onMapClickListener = await CapacitorGoogleMaps.addListener('onMapClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMapClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerClickListener(callback) {\n        if (this.onMarkerClickListener) {\n            this.onMarkerClickListener.remove();\n        }\n        if (callback) {\n            this.onMarkerClickListener = await CapacitorGoogleMaps.addListener('onMarkerClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMyLocationButtonClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMyLocationButtonClickListener(callback) {\n        if (this.onMyLocationButtonClickListener) {\n            this.onMyLocationButtonClickListener.remove();\n        }\n        if (callback) {\n            this.onMyLocationButtonClickListener =\n                await CapacitorGoogleMaps.addListener('onMyLocationButtonClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMyLocationButtonClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMyLocationClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMyLocationClickListener(callback) {\n        if (this.onMyLocationClickListener) {\n            this.onMyLocationClickListener.remove();\n        }\n        if (callback) {\n            this.onMyLocationClickListener = await CapacitorGoogleMaps.addListener('onMyLocationClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMyLocationClickListener = undefined;\n        }\n    }\n    /**\n     * Remove all event listeners on the map.\n     *\n     * @param callback\n     * @returns\n     */\n    async removeAllMapListeners() {\n        if (this.onBoundsChangedListener) {\n            this.onBoundsChangedListener.remove();\n            this.onBoundsChangedListener = undefined;\n        }\n        if (this.onCameraIdleListener) {\n            this.onCameraIdleListener.remove();\n            this.onCameraIdleListener = undefined;\n        }\n        if (this.onCameraMoveStartedListener) {\n            this.onCameraMoveStartedListener.remove();\n            this.onCameraMoveStartedListener = undefined;\n        }\n        if (this.onClusterClickListener) {\n            this.onClusterClickListener.remove();\n            this.onClusterClickListener = undefined;\n        }\n        if (this.onClusterInfoWindowClickListener) {\n            this.onClusterInfoWindowClickListener.remove();\n            this.onClusterInfoWindowClickListener = undefined;\n        }\n        if (this.onInfoWindowClickListener) {\n            this.onInfoWindowClickListener.remove();\n            this.onInfoWindowClickListener = undefined;\n        }\n        if (this.onMapClickListener) {\n            this.onMapClickListener.remove();\n            this.onMapClickListener = undefined;\n        }\n        if (this.onMarkerClickListener) {\n            this.onMarkerClickListener.remove();\n            this.onMarkerClickListener = undefined;\n        }\n        if (this.onMyLocationButtonClickListener) {\n            this.onMyLocationButtonClickListener.remove();\n            this.onMyLocationButtonClickListener = undefined;\n        }\n        if (this.onMyLocationClickListener) {\n            this.onMyLocationClickListener.remove();\n            this.onMyLocationClickListener = undefined;\n        }\n    }\n    generateCallback(callback) {\n        const mapId = this.id;\n        return (data) => {\n            if (data.mapId == mapId) {\n                callback(data);\n            }\n        };\n    }\n}\n","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nexport function interval(period = 0, scheduler = async) {\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(subscriber => {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber, counter: 0, period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    const { subscriber, counter, period } = state;\n    subscriber.next(counter);\n    this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n"],"names":["Component","NgZone","ViewChild","Geolocation","ModalController","Platform","NavController","AutocompleteComponent","OverlayService","GeocodeService","MapService","AvatarService","timer","interval","Firestore","onSnapshot","doc","Auth","AuthService","HomePage","constructor","authService","auth","map","nav","platform","firestore","database","ngZone","geocode","overlay","modalCtrl","ngOnInit","EnterBookingStage","checkPermissions","coordinates","getCurrentPosition","createMap","mapRef","nativeElement","mapy","getCards","subscribe","d","console","log","cards","forEach","element","selected","selectedCard","name","cash","getKnownPlaces","places","slice","actualLocation","locationAddress","LatLng","lat","coords","latitude","lng","longitude","newMap","setOnCameraIdleListener","g","run","showResetLocationButton","mapPinStage","address","getAddress","D_LatLng","actualDestination","destinationAddress","data","results","address_components","long_name","enableCurrentLocation","price","e","showAlert","checkDriversAround","logout","ionViewDidLeave","listen","unsubscribe","ionViewDidEnter","simulateDriverAPP","cord","numbs","center","radiusInM","drivers","checkDriversWithin","current_Request_Number","length","NoDrivers","drivers_Requested","_carmarkers","key","arr","push","duration","min","Math","driver_duration_apart","onlineState","carname","Driver_car","driver_ID","Driver_id","driver_number_of_seats","seats","DriverLatLng","Driver_lat","Driver_lng","Object","is","closeDrivers","chooseCard","even","showLoader","updateCArd","number","type","id","detail","value","hideLoader","StartRide","marker1","removeMarker","toString","marker2","BookRide","driver_marker","rider_marker","driver","userDocRef","unsub","RequestRideWithRiderDetails","currentDriver","createAndMoveMarkersOnRealtime","EnterSearchingStage","startTimer","numCalls","countDown","GoHome","cancel","start","driverInfo","canCheck","clearPrevMarkers","updateDriverSubcription","EnterDrivingToDestinationStage","riderCleared","stop","ClearRide","createHistory","Driver_name","EnterTrackingStage","sec","UpdateCountDown","goBackTOAutocomplete","showAutocompleteModal","options","component","componentProps","swipeToClose","modal","create","present","onWillDismiss","pinOnMap","EnterMapPinStage","mapPinDrag","home","setCamera","animate","animationDuration","zoom","coordinate","searching","AddKnownPlace","full","whole","latLng","getLatLng","description","geometry","location","getDistanceandDirections","RequestRide","dat","place","EnterNoDriverStage","resetLocation","EnterConfirmStage","origin1","google","maps","origin2","request","origin","destination","travelMode","TravelMode","DRIVING","directions","route","response","status","direction","distance","routes","legs","bounds","UpdateCarMarker","createAndAddMarkers","JSON","stringify","latlng","markers","addMarker","iconUrl","title","GotoSupport","navigateForward","ReturnHome","CancelRide","cancelRide","bearing","CallDriver","otherLatLng","state","isDestination","text","markerUrl","locs","geoCode","go","CalculateCenter","setPadding","top","left","right","bottom","mapDim","height","offsetHeight","width","offsetWidth","getBoundsZoomLevel","loc","des","bookingStage","confirmStage","trackingStage","searchingStage","noDriverStage","drivingToDestinationStage","args","selector","template","Injectable","Client","environment","client","DistanceMatrixService","DirectionsService","reverseGeocode","params","apiKey","timeout","addressi","getDirections","from","to","providedIn","GoogleMap","ref","config","enableTrafficLayer","formatted_address","alert","locations","WORLD_DIM","ZOOM_MAX","latRad","sin","PI","radX2","max","mapPx","worldPx","fraction","floor","LN2","ne","getNorthEast","sw","getSouthWest","latFraction","lngDiff","lngFraction","latZoom","lngZoom","registerPlugin","web","then","m","GeolocationWeb","MapType","CapacitorGoogleMaps","CapacitorGoogleMapsWeb","addListener","_a","x","y","elem","document","elementFromPoint","internalId","dataset","mapInFocus","mapId","dispatchMapEvent","focus","Capacitor","MapCustomElement","HTMLElement","connectedCallback","getPlatform","style","overflow","overflowDiv","createElement","appendChild","customElements","define","handleScrollEvent","updateMapBounds","callback","Error","androidLiteMode","undefined","elementBounds","getBoundingClientRect","devicePixelRatio","window","initScrolling","isNativePlatform","onMapReadyListener","remove","enableClustering","disableClustering","marker","res","addMarkers","ids","markerId","removeMarkers","markerIds","destroy","disableScrolling","removeAllMapListeners","setMapType","mapType","enableIndoorMaps","enabled","enableAccessibilityElements","padding","getMapBounds","ionContents","getElementsByTagName","i","scrollEvents","addEventListener","screen","orientation","setTimeout","removeEventListener","mapRect","onScroll","mapBounds","onCameraIdleListener","generateCallback","setOnBoundsChangedListener","onBoundsChangedListener","setOnCameraMoveStartedListener","onCameraMoveStartedListener","setOnClusterClickListener","onClusterClickListener","setOnClusterInfoWindowClickListener","onClusterInfoWindowClickListener","setOnInfoWindowClickListener","onInfoWindowClickListener","setOnMapClickListener","onMapClickListener","setOnMarkerClickListener","onMarkerClickListener","setOnMyLocationButtonClickListener","onMyLocationButtonClickListener","setOnMyLocationClickListener","onMyLocationClickListener","Observable","async","isNumeric","period","scheduler","schedule","subscriber","add","dispatch","counter","next"],"sourceRoot":"webpack:///","x_google_ignoreList":[5,6,7,8,9,10,11]}